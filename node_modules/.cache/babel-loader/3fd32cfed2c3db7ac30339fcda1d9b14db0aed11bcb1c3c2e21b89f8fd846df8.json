{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      todos: [],\n      newTodo: {\n        title: \"\",\n        description: \"\"\n      },\n      editTodo: {\n        id: \"\",\n        title: \"\",\n        description: \"\"\n      },\n      showDetailModal: false,\n      showAddModal: false,\n      showEditModal: false,\n      showDeleteModal: false,\n      selectedTodo: {}\n    };\n  },\n  mounted() {\n    this.fetchTodos();\n  },\n  methods: {\n    async fetchTodos() {\n      try {\n        const response = await axios.get(\"http://192.168.1.8:3333/todos\");\n        this.todos = response.data;\n      } catch (error) {\n        console.error(\"Error fetching todos:\", error);\n      }\n    },\n    async addTodo() {\n      try {\n        const response = await axios.post(\"http://192.168.1.8:3333/todos\", this.newTodo);\n        this.todos.push(response.data);\n        this.newTodo.title = \"\";\n        this.newTodo.description = \"\";\n        this.closeAddModal(); // ปิดโมดอลหลังจากบันทึกสำเร็จ\n      } catch (error) {\n        console.error(\"Error adding todo:\", error);\n      }\n    },\n    openAddModal() {\n      this.showAddModal = true; // แสดงโมดอลการเพิ่ม To-Do\n    },\n    closeAddModal() {\n      this.showAddModal = false; // ปิดโมดอลการเพิ่ม To-Do\n      this.newTodo.title = \"\";\n      this.newTodo.description = \"\";\n    },\n    async markComplete(id) {\n      try {\n        await axios.patch(`http://192.168.1.8:3333/todos/${id}/complete`);\n        const todo = this.todos.find(t => t.id === id);\n        todo.completed = true;\n      } catch (error) {\n        console.error(\"Error marking todo as complete:\", error);\n      }\n    },\n    async markIncomplete(id) {\n      try {\n        await axios.patch(`http://192.168.1.8:3333/todos/${id}/incomplete`);\n        const todo = this.todos.find(t => t.id === id);\n        todo.completed = false;\n      } catch (error) {\n        console.error(\"Error marking todo as incomplete:\", error);\n      }\n    },\n    openEditModal(todo) {\n      this.editTodo = {\n        ...todo\n      }; // คัดลอกข้อมูล Todo ที่เลือกมาเพื่อแก้ไข\n      this.showEditModal = true;\n    },\n    closeEditModal() {\n      this.showEditModal = false;\n      this.editTodo = {\n        id: \"\",\n        title: \"\",\n        description: \"\"\n      };\n    },\n    async updateTodo() {\n      try {\n        const response = await axios.put(`http://192.168.1.8:3333/todos/${this.editTodo.id}`, this.editTodo);\n        const index = this.todos.findIndex(t => t.id === this.editTodo.id);\n        this.todos[index] = response.data;\n        this.closeEditModal();\n      } catch (error) {\n        console.error(\"Error updating todo:\", error);\n      }\n    },\n    // เปลี่ยนแปลงฟังก์ชันนี้เพื่อเปิด modal ยืนยันการลบ\n    confirmDelete(todo) {\n      this.selectedTodo = todo; // กำหนด Todo ที่ต้องการลบ\n      this.showDeleteModal = true; // แสดง modal ยืนยันการลบ\n    },\n    // เมธอดเพื่อปิด modal ยืนยันการลบ\n    closeDeleteModal() {\n      this.showDeleteModal = false; // ปิด modal\n      this.selectedTodo = {}; // เคลียร์ข้อมูล Todo ที่ถูกเลือก\n    },\n    async deleteTodo(id) {\n      try {\n        await axios.delete(`http://192.168.1.8:3333/todos/${id}`);\n        this.todos = this.todos.filter(todo => todo.id !== id);\n        this.closeDeleteModal(); // ปิด modal หลังจากลบสำเร็จ\n      } catch (error) {\n        console.error(\"Error deleting todo:\", error);\n      }\n    },\n    openDetailModal(todo) {\n      this.selectedTodo = todo;\n      this.showDetailModal = true; // แสดงโมดอลรายละเอียด\n    },\n    closeDetailModal() {\n      this.showDetailModal = false; // ปิดโมดอลรายละเอียด\n      this.selectedTodo = {}; // เคลียร์ข้อมูล To-Do ที่ถูกเลือก\n    }\n  }\n};","map":{"version":3,"names":["axios","data","todos","newTodo","title","description","editTodo","id","showDetailModal","showAddModal","showEditModal","showDeleteModal","selectedTodo","mounted","fetchTodos","methods","response","get","error","console","addTodo","post","push","closeAddModal","openAddModal","markComplete","patch","todo","find","t","completed","markIncomplete","openEditModal","closeEditModal","updateTodo","put","index","findIndex","confirmDelete","closeDeleteModal","deleteTodo","delete","filter","openDetailModal","closeDetailModal"],"sources":["E:\\Todo List\\frontend-todo\\src\\components\\TodoList.vue"],"sourcesContent":["<template>\n  <div class=\"header\">\n    <h1>Todo List</h1>\n  </div>\n  <ul>\n    <li v-for=\"todo in todos\" :key=\"todo.id\" @click=\"openDetailModal(todo)\">\n      <span\n        :style=\"{ textDecoration: todo.completed ? 'line-through' : 'none' }\"\n      >\n        {{ todo.title }}\n      </span>\n      <div class=\"nav-right\">\n        <button\n          v-if=\"!todo.completed\"\n          class=\"btn btn-success btn-sm\"\n          @click.stop=\"markComplete(todo.id)\"\n        >\n          <i class=\"fas fa-check\"></i>\n        </button>\n\n        <button\n          v-if=\"todo.completed\"\n          class=\"btn btn-success btn-sm completed\"\n          @click.stop=\"markIncomplete(todo.id)\"\n        >\n          <i class=\"fas fa-check\"></i>\n        </button>\n\n        <button\n          class=\"btn btn-warning btn-sm\"\n          @click.stop=\"openEditModal(todo)\"\n        >\n          <i class=\"fas fa-edit\"></i>\n        </button>\n\n        <button class=\"btn btn-danger btn-sm\" @click.stop=\"confirmDelete(todo)\">\n          <i class=\"fas fa-close\"></i>\n        </button>\n      </div>\n    </li>\n  </ul>\n\n  <!-- Add To-Do -->\n  <div class=\"nav-bottom\">\n    <span class=\"add-todo\" @click=\"openAddModal\">+ Add New Todo</span>\n  </div>\n\n  <!-- Modal for adding a new Todo -->\n  <div class=\"modal\" v-if=\"showAddModal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">Add New Todo</h5>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"form-group\">\n            <label for=\"newTodoTitle\">Title</label>\n            <input\n              v-model=\"newTodo.title\"\n              type=\"text\"\n              class=\"form-control\"\n              id=\"newTodoTitle\"\n              placeholder=\"Enter title\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"newTodoDescription\">Description</label>\n            <textarea\n              v-model=\"newTodo.description\"\n              class=\"form-control\"\n              id=\"newTodoDescription\"\n              placeholder=\"Enter description\"\n            ></textarea>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary btn-sm\"\n            @click=\"closeAddModal\"\n          >\n            Cancel\n          </button>\n          <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"addTodo\">\n            Save\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Modal for displaying Todo details -->\n  <div class=\"modal\" v-if=\"showDetailModal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">Todo Details</h5>\n        </div>\n        <div class=\"modal-body\">\n          <h6>{{ selectedTodo.title }}</h6>\n          <p>{{ selectedTodo.description }}</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary btn-sm\"\n            @click=\"closeDetailModal\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Modal สำหรับการแก้ไข To-Do -->\n  <div class=\"modal\" v-if=\"showEditModal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">Edit Todo</h5>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"form-group\">\n            <label for=\"editTodoTitle\">Title</label>\n            <input\n              v-model=\"editTodo.title\"\n              type=\"text\"\n              class=\"form-control\"\n              id=\"editTodoTitle\"\n              placeholder=\"Enter title\"\n            />\n          </div>\n          <div class=\"form-group\">\n            <label for=\"editTodoDescription\">Description</label>\n            <textarea\n              v-model=\"editTodo.description\"\n              class=\"form-control\"\n              id=\"editTodoDescription\"\n              placeholder=\"Enter description\"\n            ></textarea>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary btn-sm\"\n            @click=\"closeEditModal\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary btn-sm\"\n            @click=\"updateTodo\"\n          >\n            Save\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Modal Delete -->\n  <div class=\"modal\" v-if=\"showDeleteModal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">Confirm Delete</h5>\n        </div>\n        <div class=\"modal-body\">\n          <p>Are you sure you want to delete \"{{ selectedTodo.title }}\"?</p>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary btn-sm\"\n            @click=\"closeDeleteModal\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary btn-sm\"\n            @click=\"deleteTodo(selectedTodo.id)\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      todos: [],\n      newTodo: {\n        title: \"\",\n        description: \"\",\n      },\n      editTodo: {\n        id: \"\",\n        title: \"\",\n        description: \"\",\n      },\n      showDetailModal: false,\n      showAddModal: false, \n      showEditModal: false,\n      showDeleteModal: false,\n      selectedTodo: {},\n    };\n  },\n  mounted() {\n    this.fetchTodos();\n  },\n  methods: {\n    async fetchTodos() {\n      try {\n        const response = await axios.get(\"http://192.168.1.8:3333/todos\");\n        this.todos = response.data;\n      } catch (error) {\n        console.error(\"Error fetching todos:\", error);\n      }\n    },\n\n    async addTodo() {\n      try {\n        const response = await axios.post(\n          \"http://192.168.1.8:3333/todos\",\n          this.newTodo,\n        );\n        this.todos.push(response.data);\n        this.newTodo.title = \"\";\n        this.newTodo.description = \"\";\n        this.closeAddModal(); // ปิดโมดอลหลังจากบันทึกสำเร็จ\n      } catch (error) {\n        console.error(\"Error adding todo:\", error);\n      }\n    },\n    openAddModal() {\n      this.showAddModal = true; // แสดงโมดอลการเพิ่ม To-Do\n    },\n    closeAddModal() {\n      this.showAddModal = false; // ปิดโมดอลการเพิ่ม To-Do\n      this.newTodo.title = \"\";\n      this.newTodo.description = \"\";\n    },\n\n    async markComplete(id) {\n      try {\n        await axios.patch(`http://192.168.1.8:3333/todos/${id}/complete`);\n        const todo = this.todos.find((t) => t.id === id);\n        todo.completed = true;\n      } catch (error) {\n        console.error(\"Error marking todo as complete:\", error);\n      }\n    },\n    async markIncomplete(id) {\n      try {\n        await axios.patch(`http://192.168.1.8:3333/todos/${id}/incomplete`);\n        const todo = this.todos.find((t) => t.id === id);\n        todo.completed = false;\n      } catch (error) {\n        console.error(\"Error marking todo as incomplete:\", error);\n      }\n    },\n    openEditModal(todo) {\n      this.editTodo = { ...todo }; // คัดลอกข้อมูล Todo ที่เลือกมาเพื่อแก้ไข\n      this.showEditModal = true;\n    },\n    closeEditModal() {\n      this.showEditModal = false;\n      this.editTodo = {\n        id: \"\",\n        title: \"\",\n        description: \"\",\n      };\n    },\n\n    async updateTodo() {\n      try {\n        const response = await axios.put(\n          `http://192.168.1.8:3333/todos/${this.editTodo.id}`,\n          this.editTodo,\n        );\n        const index = this.todos.findIndex((t) => t.id === this.editTodo.id);\n        this.todos[index] = response.data;\n        this.closeEditModal();\n      } catch (error) {\n        console.error(\"Error updating todo:\", error);\n      }\n    },\n\n    // เปลี่ยนแปลงฟังก์ชันนี้เพื่อเปิด modal ยืนยันการลบ\n    confirmDelete(todo) {\n      this.selectedTodo = todo; // กำหนด Todo ที่ต้องการลบ\n      this.showDeleteModal = true; // แสดง modal ยืนยันการลบ\n    },\n\n    // เมธอดเพื่อปิด modal ยืนยันการลบ\n    closeDeleteModal() {\n      this.showDeleteModal = false; // ปิด modal\n      this.selectedTodo = {}; // เคลียร์ข้อมูล Todo ที่ถูกเลือก\n    },\n\n    async deleteTodo(id) {\n      try {\n        await axios.delete(`http://192.168.1.8:3333/todos/${id}`);\n        this.todos = this.todos.filter((todo) => todo.id !== id);\n        this.closeDeleteModal(); // ปิด modal หลังจากลบสำเร็จ\n      } catch (error) {\n        console.error(\"Error deleting todo:\", error);\n      }\n    },\n\n    openDetailModal(todo) {\n      this.selectedTodo = todo;\n      this.showDetailModal = true; // แสดงโมดอลรายละเอียด\n    },\n    closeDetailModal() {\n      this.showDetailModal = false; // ปิดโมดอลรายละเอียด\n      this.selectedTodo = {}; // เคลียร์ข้อมูล To-Do ที่ถูกเลือก\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}